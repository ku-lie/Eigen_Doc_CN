## 归约、遍历和广播

本页解释了[Eigen](../../6_类列表/1_Eigen/readme.md)的减法、遍历和广播，以及它们如何与[矩阵](14_参考/1_核心模块/34_MatrixBase.md)和[数组](14_参考/1_核心模块/8_ArrayBase.md)一起使用。

### 归约

在特征中，归约是一个函数，它采用矩阵或数组，并返回单个标量值。最常用的归约之一是[.sum()](14_参考/1_核心模块/18_DenseBase.md#sum)，返回给定矩阵或数组内所有元素的总和。

**例子：**

```cpp
#include <iostream>
#include <Eigen/Dense>

using namespace std;
int main()
{
  Eigen::Matrix2d mat;
  mat << 1, 2,
         3, 4;
  cout << "Here is mat.sum():       " << mat.sum()       << endl;
  cout << "Here is mat.prod():      " << mat.prod()      << endl;
  cout << "Here is mat.mean():      " << mat.mean()      << endl;
  cout << "Here is mat.minCoeff():  " << mat.minCoeff()  << endl;
  cout << "Here is mat.maxCoeff():  " << mat.maxCoeff()  << endl;
  cout << "Here is mat.trace():     " << mat.trace()     << endl;
}
```

**输出：**

```powershell
Here is mat.sum():       10
Here is mat.prod():      24
Here is mat.mean():      2.5
Here is mat.minCoeff():  1
Here is mat.maxCoeff():  4
Here is mat.trace():     5
```

由函数 `trace()` 返回的矩阵的 *迹* 是对角线元素之和，可以等效地计算 `a.diagonal().sum()` 。

### 范数计算

向量的（欧几里得又称![](http://latex.codecogs.com/svg.latex?l^2)）平方范数可以由[squaredNorm()](14_参考/1_核心模块/34_MatrixBase.md#squarednorm)得到 。它等于向量本身的点积，并且等价于其元素的平方绝对值之和。

Eigen还提供了[norm()](14_参考/1_核心模块/34_MatrixBase.md#norm)方法，该方法返回squaredNorm()的平方根。

这些操作也可以对矩阵进行操作; 在这种情况下，n*p矩阵被视为大小（n * p）的向量，因此例如norm()方法返回“Frobenius”或“Hilbert-Schmidt”范数。我们避免谈论矩阵的![](http://latex.codecogs.com/svg.latex?l^2)范数，因为这可能意味着不同的事情。

如果需要其他元素![](http://latex.codecogs.com/svg.latex?l^p)范数，请使用[lpNorm<p>()](14_参考/1_核心模块/34_MatrixBase.md#lpnorm)方法。如果需要 ![](http://latex.codecogs.com/svg.latex?l^\infty)范数，模板参数 p 可以取特殊值无穷大，这是元素绝对值的最大值。

下面的示例演示了这些方法。

**例子：**

```cpp

```

**输出：**

```powershell

```
